{"remainingRequest":"E:\\可视化工程\\Projects\\3d_City\\node_modules\\babel-loader\\lib\\index.js!E:\\可视化工程\\Projects\\3d_City\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\可视化工程\\Projects\\3d_City\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\可视化工程\\Projects\\3d_City\\src\\components\\mapbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\可视化工程\\Projects\\3d_City\\src\\components\\mapbox.vue","mtime":1647503769000},{"path":"E:\\可视化工程\\Projects\\3d_City\\babel.config.js","mtime":1647503769000},{"path":"E:\\可视化工程\\Projects\\3d_City\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680804470900},{"path":"E:\\可视化工程\\Projects\\3d_City\\node_modules\\babel-loader\\lib\\index.js","mtime":1680804470891},{"path":"E:\\可视化工程\\Projects\\3d_City\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680804470900},{"path":"E:\\可视化工程\\Projects\\3d_City\\node_modules\\vue-loader\\lib\\index.js","mtime":1680804488154}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1Yi5qcyI7Ci8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIFRIUkVFIGZyb20gInRocmVlIjsKaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXIiOwppbXBvcnQgV2FsbCBmcm9tICIuL2pzL1dhbGwiOwppbXBvcnQgUnVuUmluZyBmcm9tICIuL2pzL1J1blJpbmciOwppbXBvcnQgUnVuTGluZSBmcm9tICIuL2pzL1J1bkxpbmUiOwoKdmFyIG1hcGJveGdsID0gcmVxdWlyZSgibWFwYm94LWdsIik7IC8v5byV5YWl57uE5Lu2Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwoKCnZhciBtYXA7CnZhciBzY2VuZTsgLy/lnLrmma8KCnZhciBjYW1lcmE7IC8v55u45py6Cgp2YXIgcmVuZGVyZXI7IC8v5Yib5bu65riy5p+T5ZmoCgpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5pbml0bWFwKCk7CiAgICBtYXAub24oInN0eWxlLmxvYWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjdXN0b21MYXllciA9IF90aGlzLnNldEN1c3RvbUxheWVyKCk7CgogICAgICBtYXAuYWRkTGF5ZXIoY3VzdG9tTGF5ZXIsICJ3YXRlcndheS1sYWJlbCIpOwoKICAgICAgX3RoaXMuYWRkR0xURigpOwoKICAgICAgX3RoaXMuY3JlYXRXYWxsKCk7CgogICAgICBfdGhpcy5jcmVhdFJ1bkxpbmUoKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdG1hcDogZnVuY3Rpb24gaW5pdG1hcCgpIHsKICAgICAgbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSAicGsuZXlKMUlqb2liR2w0YVdGdlkyaGhieUlzSW1FaU9pSmpiREJ4TW5keFpYY3daREp2TTJwdWFYRm9jbmQxYVRBeEluMC41VXh2alFnTXhGOWFZcmlpSXlSbmJnIjsgLy/ov5nph4zor7fmjaLmiJDoh6rlt7HnmoR0b2tlbgoKICAgICAgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7CiAgICAgICAgY29udGFpbmVyOiAibWFwIiwKICAgICAgICAvLyBjb250YWluZXIgaWQg57uR5a6a55qE57uE5Lu255qEaWQKICAgICAgICBzdHlsZTogIm1hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12MTEiLAogICAgICAgIC8v5Zyw5Zu+5qC35byP77yM5Y+v5Lul5L2/55So5a6Y572R6aKE5a6a5LmJ55qE5qC35byPLOS5n+WPr+S7peiHquWumuS5iQogICAgICAgIGNlbnRlcjogWzEyMS40NywgMzEuMjNdLAogICAgICAgIC8vIOWIneWni+WdkOagh+ezuwogICAgICAgIHpvb206IDE1LAogICAgICAgIC8vIHN0YXJ0aW5nIHpvb20g5Zyw5Zu+5Yid5aeL55qE5ouJ5Ly45q+U5L6LCiAgICAgICAgcGl0Y2g6IDYwLAogICAgICAgIC8v5Zyw5Zu+55qE6KeS5bqm77yM5LiN5YaZ6buY6K6k5pivMO+8jOWPluWAvOaYrzAtNjDluqbvvIzkuIDoiKzlnKgzROS4reS9v+eUqAogICAgICAgIGJlYXJpbmc6IC0xNy42LAogICAgICAgIC8v5Zyw5Zu+55qE5Yid5aeL5pa55ZCR77yM5YC85piv5YyX55qE6YCG5pe26ZKI5bqm5pWw77yM6buY6K6k5pivMO+8jOWNs+aYr+ato+WMlwogICAgICAgIGFudGlhbGlhczogdHJ1ZSAvL+aKl+mUr+m9v++8jOmAmui/h2ZhbHNl5YWz6Zet5o+Q5Y2H5oCn6IO9CgogICAgICB9KTsKICAgIH0sCiAgICBzZXRDdXN0b21MYXllcjogZnVuY3Rpb24gc2V0Q3VzdG9tTGF5ZXIoKSB7CiAgICAgIHZhciBjdXN0b21MYXllciA9IHsKICAgICAgICBpZDogIjNkLW1vZGVsIiwKICAgICAgICB0eXBlOiAiY3VzdG9tIiwKICAgICAgICByZW5kZXJpbmdNb2RlOiAiM2QiLAogICAgICAgIG9uQWRkOiB0aGlzLmluaXRUaHJlZSwKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKICAgICAgICByZW5kZXI6IHRoaXMudGhyZWVSZW5kZXIKICAgICAgfTsKICAgICAgcmV0dXJuIGN1c3RvbUxheWVyOwogICAgfSwKICAgIGluaXRUaHJlZTogZnVuY3Rpb24gaW5pdFRocmVlKG1hcCwgZ2wpIHsKICAgICAgLy/liJvlu7rlnLrmma8KICAgICAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy/lpKnnqbrnm5IKICAgICAgLy8gICBjb25zdCB0ZXh0dXJlQ3ViZSA9IG5ldyBUSFJFRS5DdWJlVGV4dHVyZUxvYWRlcigpLmxvYWQoWwogICAgICAvLyAgICAgIjEuanBnIiwKICAgICAgLy8gICAgICIyLmpwZyIsCiAgICAgIC8vICAgICAiMy5qcGciLAogICAgICAvLyAgICAgIjQuanBnIiwKICAgICAgLy8gICAgICI1LmpwZyIsCiAgICAgIC8vICAgICAiNi5qcGciLAogICAgICAvLyAgIF0pOwogICAgICAvLyAgIHNjZW5lLmJhY2tncm91bmQgPSB0ZXh0dXJlQ3ViZTsgLy8g5L2c5Li66IOM5pmv6LS05Zu+CgogICAgICAvKioKICAgICAgICog6YCP6KeG5oqV5b2x55u45py66K6+572uCiAgICAgICAqLwoKICAgICAgdmFyIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7IC8vIOeql+WPo+WuveW6pgoKICAgICAgdmFyIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgLy8g56qX5Y+j6auY5bqmCgogICAgICAvKiog6YCP6KeG5oqV5b2x55u45py65a+56LGhICovCgogICAgICBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNjAsIHdpZHRoIC8gaGVpZ2h0LCAxLCA3MDApOwogICAgICBjYW1lcmEucG9zaXRpb24uc2V0KDYwMCwgOTAwLCA2MDApOyAvLyDmoJHkuIrpnaLop4Llr58KCiAgICAgIGNhbWVyYS5sb29rQXQoc2NlbmUucG9zaXRpb24pOyAvLyDorr7nva7nm7jmnLrmlrnlkJEo5oyH5ZCR55qE5Zy65pmv5a+56LGhKQogICAgICAvLyDliJvlu7rmuLLmn5Plmajlr7nosaEKICAgICAgLy8gICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2NlbmUiKTsKCiAgICAgIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoewogICAgICAgIGNhbnZhczogbWFwLmdldENhbnZhcygpLAogICAgICAgIGNvbnRleHQ6IGdsLAogICAgICAgIGFudGlhbGlhczogdHJ1ZQogICAgICB9KTsgLy8gICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7IC8vIGJvZHnlhYPntKDkuK3mj5LlhaVjYW52YXPlr7nosaEKICAgICAgLy/liJvlu7rngrnlhYnmupDlkoznjq/looPlhYnmupAKCiAgICAgIHZhciBwb2ludCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZmZmZmKTsKICAgICAgcG9pbnQucG9zaXRpb24uc2V0KDYwMCwgOTAwLCA2MDApOyAvLyDngrnlhYnmupDkvY3nva4KCiAgICAgIHNjZW5lLmFkZChwb2ludCk7IC8vIOeCueWFiea6kOa3u+WKoOWIsOWcuuaZr+S4rQogICAgICAvLyDnjq/looPlhYkKCiAgICAgIHZhciBhbWJpZW50ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweDQwNDA0MCwgMSk7CiAgICAgIHNjZW5lLmFkZChhbWJpZW50KTsKICAgICAgcmVuZGVyZXIuYXV0b0NsZWFyID0gZmFsc2U7IC8vICAgcGlja2luZ1NjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8v56a75bGP5riy5p+TCiAgICAgIC8vICAgcGlja2luZ1RleHR1cmUgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQoMSwgMSk7IC8v56a75bGP5riy5p+TCiAgICB9LAogICAgYWRkR0xURjogZnVuY3Rpb24gYWRkR0xURigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgbG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTsKICAgICAgbG9hZGVyLmxvYWQoInNoYW5naGFpLmdsdGYiLCBmdW5jdGlvbiAoZ2x0ZikgewogICAgICAgIGdsdGYuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICAvLyDorr7nva7nur/moYbmnZDotKgKICAgICAgICAgIGlmIChjaGlsZC5pc01lc2gpIHsKICAgICAgICAgICAgLy/ov5nkuKrliKTmlq3mqKHlnovmmK/mpbzmiL/ov5jmmK/lhbbku5YgIOWKoOi9veS4jeWQjOeahOadkOi0qAogICAgICAgICAgICBpZiAoWyJDSVRZX1VOVFJJQU5HVUxBVEVEIl0uaW5jbHVkZXMoY2hpbGQubmFtZSkpIHsKICAgICAgICAgICAgICAvLyDmi7/liLDmqKHlnovnur/moYbnmoRHZW9tZXRyeQogICAgICAgICAgICAgIF90aGlzMi5zZXRDaXR5TGluZU1hdGVyaWFsKGNoaWxkKTsKCiAgICAgICAgICAgICAgX3RoaXMyLnNldENpdHlNYXRlcmlhbChjaGlsZCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoWyJST0FEUyJdLmluY2x1ZGVzKGNoaWxkLm5hbWUpKSB7CiAgICAgICAgICAgICAgLy/pgZPot68KICAgICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoewogICAgICAgICAgICAgICAgY29sb3I6ICJyZ2IoNDEsNDYsNzYpIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2goY2hpbGQuZ2VvbWV0cnksIG1hdGVyaWFsKTsKICAgICAgICAgICAgICBtZXNoLnJvdGF0ZVgoLU1hdGguUEkgLyAyKTsKICAgICAgICAgICAgICBtZXNoLnBvc2l0aW9uLnNldChjaGlsZC5wb3NpdGlvbi54LCBjaGlsZC5wb3NpdGlvbi55ICsgMCwgY2hpbGQucG9zaXRpb24ueik7IC8vICAgc2NlbmUuYWRkKG1lc2gpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8v5Zyw6Z2iCiAgICAgICAgICAgICAgdmFyIF9tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7CiAgICAgICAgICAgICAgICBjb2xvcjogIiMwNDA5MTIiCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHZhciBfbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGNoaWxkLmdlb21ldHJ5LCBfbWF0ZXJpYWwpOyAvLyAgIHNjZW5lLmFkZChtZXNoKTsKCgogICAgICAgICAgICAgIF9tZXNoLnJvdGF0ZVgoLU1hdGguUEkgLyAyKTsKCiAgICAgICAgICAgICAgX21lc2gucG9zaXRpb24uc2V0KGNoaWxkLnBvc2l0aW9uLngsIGNoaWxkLnBvc2l0aW9uLnkgKyAwLCBjaGlsZC5wb3NpdGlvbi56KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyDorr7nva7nur/moYbmnZDotKgKCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHRocmVlUmVuZGVyOiBmdW5jdGlvbiB0aHJlZVJlbmRlcihnbCwgbWF0cml4KSB7CiAgICAgIHZhciBtb2RlbE9yaWdpbiA9IFsxMjEuNDcsIDMxLjIzXTsKICAgICAgdmFyIG1vZGVsQWx0aXR1ZGUgPSA3NzA7CiAgICAgIHZhciBtb2RlbFJvdGF0ZSA9IFtNYXRoLlBJIC8gNCwgMCwgMF07CiAgICAgIHZhciBtb2RlbEFzTWVyY2F0b3JDb29yZGluYXRlID0gbWFwYm94Z2wuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobW9kZWxPcmlnaW4sIG1vZGVsQWx0aXR1ZGUpOwogICAgICB2YXIgbW9kZWxUcmFuc2Zvcm0gPSB7CiAgICAgICAgdHJhbnNsYXRlWDogbW9kZWxBc01lcmNhdG9yQ29vcmRpbmF0ZS54LAogICAgICAgIHRyYW5zbGF0ZVk6IG1vZGVsQXNNZXJjYXRvckNvb3JkaW5hdGUueSwKICAgICAgICB0cmFuc2xhdGVaOiBtb2RlbEFzTWVyY2F0b3JDb29yZGluYXRlLnosCiAgICAgICAgcm90YXRlWDogbW9kZWxSb3RhdGVbMF0sCiAgICAgICAgcm90YXRlWTogbW9kZWxSb3RhdGVbMV0sCiAgICAgICAgcm90YXRlWjogbW9kZWxSb3RhdGVbMl0sCiAgICAgICAgc2NhbGU6IG1vZGVsQXNNZXJjYXRvckNvb3JkaW5hdGUubWV0ZXJJbk1lcmNhdG9yQ29vcmRpbmF0ZVVuaXRzKCkKICAgICAgfTsKICAgICAgdmFyIHJvdGF0aW9uWCA9IG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uQXhpcyhuZXcgVEhSRUUuVmVjdG9yMygxLCAwLCAwKSwgbW9kZWxUcmFuc2Zvcm0ucm90YXRlWCk7CiAgICAgIHZhciByb3RhdGlvblkgPSBuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvbkF4aXMobmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCksIG1vZGVsVHJhbnNmb3JtLnJvdGF0ZVkpOwogICAgICB2YXIgcm90YXRpb25aID0gbmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25BeGlzKG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDEpLCBtb2RlbFRyYW5zZm9ybS5yb3RhdGVaKTsKICAgICAgdmFyIG0gPSBuZXcgVEhSRUUuTWF0cml4NCgpLmZyb21BcnJheShtYXRyaXgpOwogICAgICB2YXIgbCA9IG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKG1vZGVsVHJhbnNmb3JtLnRyYW5zbGF0ZVgsIG1vZGVsVHJhbnNmb3JtLnRyYW5zbGF0ZVksIG1vZGVsVHJhbnNmb3JtLnRyYW5zbGF0ZVopLnNjYWxlKG5ldyBUSFJFRS5WZWN0b3IzKG1vZGVsVHJhbnNmb3JtLnNjYWxlLCAtbW9kZWxUcmFuc2Zvcm0uc2NhbGUsIG1vZGVsVHJhbnNmb3JtLnNjYWxlKSkubXVsdGlwbHkocm90YXRpb25YKS5tdWx0aXBseShyb3RhdGlvblkpLm11bHRpcGx5KHJvdGF0aW9uWik7CiAgICAgIGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4ID0gbS5tdWx0aXBseShsKTsKICAgICAgdGhpcy5jaXR5YW5pbWF0ZSgpOwogICAgICByZW5kZXJlci5yZXNldFN0YXRlKCk7CiAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTsKICAgICAgbWFwLnRyaWdnZXJSZXBhaW50KCk7CiAgICB9LAogICAgc2V0Q2l0eU1hdGVyaWFsOiBmdW5jdGlvbiBzZXRDaXR5TWF0ZXJpYWwob2JqZWN0KSB7CiAgICAgIHZhciBzaGFkZXIgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoewogICAgICAgIHVuaWZvcm1zOiB7CiAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LAogICAgICAgICAgdUZsb3dDb2xvcjogewogICAgICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKCIjNTU4OGFhIikKICAgICAgICAgIH0sCiAgICAgICAgICB1Q2l0eUNvbG9yOiB7CiAgICAgICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoIiMxQjMwNDUiKQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdmVydGV4U2hhZGVyOiAiXG4gICAgICAgICAgICAgICAgdmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB2b2lkIG1haW4oKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHZQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xuICAgICAgICAgICAgICAgIH0iLAogICAgICAgIGZyYWdtZW50U2hhZGVyOiAiXG5mbG9hdCBkaXN0YW5jZVRvKHZlYzIgc3JjLHZlYzIgZHN0KVxue1xuICAgIGZsb2F0IGR4PXNyYy54LWRzdC54O1xuICAgIGZsb2F0IGR5PXNyYy55LWRzdC55O1xuICAgIGZsb2F0IGR2PWR4KmR4K2R5KmR5O1xuICAgIHJldHVybiBzcXJ0KGR2KTtcbn1cbnZhcnlpbmcgdmVjMyB2UG9zaXRpb247XG51bmlmb3JtIGZsb2F0IGhlaWdodDtcbnVuaWZvcm0gZmxvYXQgdVN0YXJ0VGltZTtcbnVuaWZvcm0gdmVjMyB1U2l6ZTtcbnVuaWZvcm0gdmVjMyB1Rmxvd0NvbG9yO1xudW5pZm9ybSB2ZWMzIHVDaXR5Q29sb3I7XG52b2lkIG1haW4oKVxue1xuICAgIC8vXHU2QTIxXHU1NzhCXHU3Njg0XHU1N0ZBXHU3ODQwXHU5ODlDXHU4MjcyXG4gICAgdmVjMyBkaXN0Q29sb3I9dUNpdHlDb2xvcjtcbiAgICAvLyBcdTZENDFcdTUyQThcdTgzMDNcdTU2RjRcdTVGNTNcdTUyNERcdTcwQjl6XHU3Njg0XHU5QUQ4XHU1RUE2XHU1MkEwXHU0RTBBXHU2RDQxXHU1MkE4XHU3RUJGXHU3Njg0XHU5QUQ4XHU1RUE2XG4gICAgZmxvYXQgdG9wWT12UG9zaXRpb24ueisxMC47XG4gICAgaWYoaGVpZ2h0PnZQb3NpdGlvbi56JiZoZWlnaHQ8dG9wWSl7XG4gICAgICAgIC8vIFx1OTg5Q1x1ODI3Mlx1NkUxMFx1NTNEOFxuICAgICAgICAgICAgZmxvYXQgZEluZGV4ID0gc2luKChoZWlnaHQgLSB2UG9zaXRpb24ueikgLyAxMC4wICogMy4xNCk7XG4gICAgICAgICAgICBkaXN0Q29sb3IgPSBtaXgodUZsb3dDb2xvciwgZGlzdENvbG9yLCAxLjAtZEluZGV4KTtcblxuICAgIH1cbiAgICAvL1x1NUI5QVx1NEY0RFx1NUY1M1x1NTI0RFx1NzBCOVx1NEY0RFx1NEY0RFx1N0Y2RVxuICAgIHZlYzIgcG9zaXRpb24yRD12ZWMyKHZQb3NpdGlvbi54LHZQb3NpdGlvbi55KTtcbiAgICAvL1x1NkM0Mlx1NzBCOVx1NTIzMFx1NTM5Rlx1NzBCOVx1NzY4NFx1OERERFx1NzlCQlxuICAgIGZsb2F0IExlbj1kaXN0YW5jZVRvKHBvc2l0aW9uMkQsdmVjMigwLDApKTtcbiAgICAgIGlmKExlbj5oZWlnaHQqMzAuMCYmTGVuPChoZWlnaHQqMzAuMCsxMzAuMCkpe1xuICAgICAgICAvLyBcdTk4OUNcdTgyNzJcdTZFMTBcdTUzRDhcbiAgICAgICAgZmxvYXQgZEluZGV4ID0gc2luKChMZW4gLSBoZWlnaHQqMzAuMCkgLyAxMzAuMCAqIDMuMTQpO1xuICAgICAgICBkaXN0Q29sb3I9IG1peCh1Rmxvd0NvbG9yLCBkaXN0Q29sb3IsIDEuMC1kSW5kZXgpO1xuICAgIH1cbiAgICBnbF9GcmFnQ29sb3I9dmVjNChkaXN0Q29sb3IsMS4wKTtcbn0iLAogICAgICAgIHRyYW5zcGFyZW50OiB0cnVlCiAgICAgIH0pOwogICAgICB2YXIgY2l0eSA9IG5ldyBUSFJFRS5NZXNoKG9iamVjdC5nZW9tZXRyeSwgc2hhZGVyKTsKICAgICAgY2l0eS5wb3NpdGlvbi5zZXQob2JqZWN0LnBvc2l0aW9uLngsIG9iamVjdC5wb3NpdGlvbi55ICsgMCwgb2JqZWN0LnBvc2l0aW9uLnopOwogICAgICBzY2VuZS5hZGQoY2l0eSk7IC8vIHBpY2tpbmdTY2VuZS5hZGQoY2l0eSk7CgogICAgICBjaXR5LnJvdGF0ZVgoLU1hdGguUEkgLyAyKTsKICAgIH0sCiAgICBzZXRDaXR5TGluZU1hdGVyaWFsOiBmdW5jdGlvbiBzZXRDaXR5TGluZU1hdGVyaWFsKG9iamVjdCkgewogICAgICB2YXIgZWRnZXMgPSBuZXcgVEhSRUUuRWRnZXNHZW9tZXRyeShvYmplY3QuZ2VvbWV0cnksIDEpOyAvL+iuvue9ruaooeWei+eahOadkOi0qAoKICAgICAgdmFyIGxpbmVNYXRlcmlhbCA9IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7CiAgICAgICAgLy8g57q/55qE6aKc6ImyCiAgICAgICAgY29sb3I6ICJyZ2JhKDM4LDEzMywyNTQpIgogICAgICB9KTsgLy/miormlbDmja7nu4TlkIjotbfmnaUKCiAgICAgIHZhciBsaW5lUyA9IG5ldyBUSFJFRS5MaW5lU2VnbWVudHMoZWRnZXMsIGxpbmVNYXRlcmlhbCk7IC8v6K6+572u5pWw5o2u55qE5L2N572uCgogICAgICBsaW5lUy5wb3NpdGlvbi5zZXQob2JqZWN0LnBvc2l0aW9uLngsIG9iamVjdC5wb3NpdGlvbi55ICsgMCwgb2JqZWN0LnBvc2l0aW9uLnopOyAvL+a3u+WKoOWIsOWcuuaZrwoKICAgICAgc2NlbmUuYWRkKGxpbmVTKTsKICAgICAgbGluZVMucm90YXRlWCgtTWF0aC5QSSAvIDIpOwogICAgfSwKICAgIGNpdHlhbmltYXRlOiBmdW5jdGlvbiBjaXR5YW5pbWF0ZSgpIHsKICAgICAgdGhpcy5oZWlnaHQudmFsdWUgKz0gMC4yOwoKICAgICAgaWYgKHRoaXMuaGVpZ2h0LnZhbHVlID4gMTAwKSB7CiAgICAgICAgdGhpcy5oZWlnaHQudmFsdWUgPSAwLjA7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdFdhbGw6IGZ1bmN0aW9uIGNyZWF0V2FsbCgpIHsKICAgICAgdmFyIHdhbGxEYXRhID0gewogICAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgICB4OiAtMTUwLAogICAgICAgICAgeTogMTUsCiAgICAgICAgICB6OiAxMDAKICAgICAgICB9LAogICAgICAgIHNwZWVkOiAwLjUsCiAgICAgICAgY29sb3I6ICIjZWZhZDM1IiwKICAgICAgICBvcGFjaXR5OiAxLjAsCiAgICAgICAgcmFkaXVzOiA0MjAsCiAgICAgICAgaGVpZ2h0OiAxMjAsCiAgICAgICAgcmVuZGVyT3JkZXI6IDUKICAgICAgfTsKICAgICAgdmFyIHdhbGxNZXNoID0gbmV3IFdhbGwod2FsbERhdGEpOwogICAgICB3YWxsTWVzaC5tZXNoLm1hdGVyaWFsLnVuaWZvcm1zLnRpbWUgPSB0aGlzLmhlaWdodDsKICAgICAgc2NlbmUuYWRkKHdhbGxNZXNoLm1lc2gpOwogICAgfSwKICAgIGNyZWF0UmluZzogZnVuY3Rpb24gY3JlYXRSaW5nKCkgewogICAgICB0aGlzLlJ1blJpbmcxID0gbmV3IFJ1blJpbmcoewogICAgICAgIGltZzogImNsaWNlLnBuZyIsCiAgICAgICAgc2NlbmU6IHNjZW5lLAogICAgICAgIHNwZWVkOiAxLAogICAgICAgIHJhZGl1czogNDAwLAogICAgICAgIHBvc2l0aW9uOiBbWzQwMCwgMjAsIDQwMF0sIFsxMDAsIDIwLCAxMjAwXV0KICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRSdW5MaW5lOiBmdW5jdGlvbiBjcmVhdFJ1bkxpbmUoKSB7CiAgICAgIHRoaXMucnVubGluZTEgPSBuZXcgUnVuTGluZSh7CiAgICAgICAgaW1nOiAiejEucG5nIiwKICAgICAgICBjYW1lcmE6IGNhbWVyYSwKICAgICAgICBoZWlnaHQ6IDE0MCwKICAgICAgICB2MDogbmV3IFRIUkVFLlZlY3RvcjMoNjAsIDE4LCAtMjc5KSwKICAgICAgICB2MTogbmV3IFRIUkVFLlZlY3RvcjMoLTE3LjUsIDExMS41LCAtMjMpLAogICAgICAgIGVsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFwIiksCiAgICAgICAgc2NlbmU6IHNjZW5lLAogICAgICAgIHNwZWVkOiAxLAogICAgICAgIGxpbmVXaWR0aDogNDAsCiAgICAgICAgdHlwZTogInJ1biIKICAgICAgfSk7CiAgICAgIHRoaXMucnVubGluZTIgPSBuZXcgUnVuTGluZSh7CiAgICAgICAgaW1nOiAiel8xMTIucG5nIiwKICAgICAgICBjYW1lcmE6IGNhbWVyYSwKICAgICAgICBoZWlnaHQ6IDE0MCwKICAgICAgICB2MDogbmV3IFRIUkVFLlZlY3RvcjMoLTExMywgNDQsIDY2NiksCiAgICAgICAgdjE6IG5ldyBUSFJFRS5WZWN0b3IzKC0xNy41LCAxMTEuNSwgLTIzKSwKICAgICAgICBlbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1hcCIpLAogICAgICAgIHNjZW5lOiBzY2VuZSwKICAgICAgICBzcGVlZDogMSwKICAgICAgICBsaW5lV2lkdGg6IDQwLAogICAgICAgIHR5cGU6ICJydW4iCiAgICAgIH0pOwogICAgICB0aGlzLnJ1bmxpbmUzID0gbmV3IFJ1bkxpbmUoewogICAgICAgIGltZzogInpfMTEucG5nIiwKICAgICAgICBjYW1lcmE6IGNhbWVyYSwKICAgICAgICBoZWlnaHQ6IDE0MCwKICAgICAgICB2MDogbmV3IFRIUkVFLlZlY3RvcjMoLTQxOCwgMTEzLCAtMTIpLAogICAgICAgIHYxOiBuZXcgVEhSRUUuVmVjdG9yMygtMTcuNSwgMTExLjUsIC0yMyksCiAgICAgICAgZWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXAiKSwKICAgICAgICBzY2VuZTogc2NlbmUsCiAgICAgICAgc3BlZWQ6IDEsCiAgICAgICAgbGluZVdpZHRoOiA0MCwKICAgICAgICB0eXBlOiAicnVuIgogICAgICB9KTsKICAgICAgdGhpcy5ydW5saW5lNSA9IG5ldyBSdW5MaW5lKHsKICAgICAgICBpbWc6ICJuLnBuZyIsCiAgICAgICAgY2FtZXJhOiBjYW1lcmEsCiAgICAgICAgaGVpZ2h0OiAxNDAsCiAgICAgICAgdjA6IG5ldyBUSFJFRS5WZWN0b3IzKDYxNCwgMTgsIDEzMCksCiAgICAgICAgdjE6IG5ldyBUSFJFRS5WZWN0b3IzKC0xNy41LCAxMTEuNSwgLTIzKSwKICAgICAgICBlbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1hcCIpLAogICAgICAgIHNjZW5lOiBzY2VuZSwKICAgICAgICBzcGVlZDogMSwKICAgICAgICBsaW5lV2lkdGg6IDQwLAogICAgICAgIHR5cGU6ICJydW4iCiAgICAgIH0pOwogICAgfSwKICAgIG9uRG9jdW1lbnRNb3VzZURvd246IGZ1bmN0aW9uIG9uRG9jdW1lbnRNb3VzZURvd24oZXZlbnQpIHsKICAgICAgdGhpcy5ncHVDbGljaygpOwogICAgICB0aGlzLnJheWNhc3RDbGljayhldmVudCk7CiAgICB9LAogICAgcmF5Y2FzdENsaWNrOiBmdW5jdGlvbiByYXljYXN0Q2xpY2soZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7IC8vIOS4iee7tOWdkOagh+WvueixoQoKICAgICAgdmVjdG9yLnNldChldmVudC5jbGllbnRYIC8gd2luZG93LmlubmVyV2lkdGggKiAyIC0gMSwgLShldmVudC5jbGllbnRZIC8gd2luZG93LmlubmVySGVpZ2h0KSAqIDIgKyAxLCAwLjUpOwogICAgICB2ZWN0b3IudW5wcm9qZWN0KGNhbWVyYSk7CiAgICAgIHZhciByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKGNhbWVyYS5wb3NpdGlvbiwgdmVjdG9yLnN1YihjYW1lcmEucG9zaXRpb24pLm5vcm1hbGl6ZSgpKTsKICAgICAgdmFyIGludGVyc2VjdHMgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhzY2VuZS5jaGlsZHJlbik7CgogICAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIHNlbGVjdGVkID0gaW50ZXJzZWN0c1swXTsgLy8g5Y+W56ys5LiA5Liq54mp5L2TCgogICAgICAgIGNvbnNvbGUubG9nKCJ4XHU1NzUwXHU2ODA3OiIuY29uY2F0KHNlbGVjdGVkLnBvaW50LngpKTsKICAgICAgICBjb25zb2xlLmxvZygieVx1NTc1MFx1NjgwNzoiLmNvbmNhdChzZWxlY3RlZC5wb2ludC55KSk7CiAgICAgICAgY29uc29sZS5sb2coInpcdTU3NTBcdTY4MDc6Ii5jb25jYXQoc2VsZWN0ZWQucG9pbnQueikpOwogICAgICB9CiAgICB9LAogICAgZ3B1Q2xpY2s6IGZ1bmN0aW9uIGdwdUNsaWNrKCkgey8vICAgcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHBpY2tpbmdUZXh0dXJlKTsKICAgICAgLy8gICByZW5kZXJlci5yZW5kZXIocGlja2luZ1NjZW5lLCBjYW1lcmEpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlaWdodDogewogICAgICAgIHZhbHVlOiAwCiAgICAgIH0KICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["mapbox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"map\"></div>\n</template>\n\n<script>\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport Wall from \"./js/Wall\";\nimport RunRing from \"./js/RunRing\";\nimport RunLine from \"./js/RunLine\";\nconst mapboxgl = require(\"mapbox-gl\"); //引入组件\n\n// eslint-disable-next-line no-unused-vars\nvar map;\nlet scene; //场景\nlet camera; //相机\nlet renderer; //创建渲染器\n\nexport default {\n  mounted() {\n    this.initmap();\n    map.on(\"style.load\", () => {\n      let customLayer = this.setCustomLayer();\n      map.addLayer(customLayer, \"waterway-label\");\n      this.addGLTF();\n      this.creatWall();\n      this.creatRunLine();\n    });\n  },\n  methods: {\n    initmap() {\n      mapboxgl.accessToken =\n        \"pk.eyJ1IjoibGl4aWFvY2hhbyIsImEiOiJjbDBxMndxZXcwZDJvM2puaXFocnd1aTAxIn0.5UxvjQgMxF9aYriiIyRnbg\"; //这里请换成自己的token\n      map = new mapboxgl.Map({\n        container: \"map\", // container id 绑定的组件的id\n        style: \"mapbox://styles/mapbox/streets-v11\", //地图样式，可以使用官网预定义的样式,也可以自定义\n        center: [121.47, 31.23], // 初始坐标系\n        zoom: 15, // starting zoom 地图初始的拉伸比例\n        pitch: 60, //地图的角度，不写默认是0，取值是0-60度，一般在3D中使用\n        bearing: -17.6, //地图的初始方向，值是北的逆时针度数，默认是0，即是正北\n        antialias: true, //抗锯齿，通过false关闭提升性能\n      });\n    },\n    setCustomLayer() {\n      const customLayer = {\n        id: \"3d-model\",\n        type: \"custom\",\n        renderingMode: \"3d\",\n        onAdd: this.initThree,\n        // eslint-disable-next-line no-unused-vars\n        render: this.threeRender,\n      };\n      return customLayer;\n    },\n    initThree(map, gl) {\n      //创建场景\n      scene = new THREE.Scene();\n      //天空盒\n\n      //   const textureCube = new THREE.CubeTextureLoader().load([\n      //     \"1.jpg\",\n      //     \"2.jpg\",\n      //     \"3.jpg\",\n      //     \"4.jpg\",\n      //     \"5.jpg\",\n      //     \"6.jpg\",\n      //   ]);\n      //   scene.background = textureCube; // 作为背景贴图\n      /**\n       * 透视投影相机设置\n       */\n      const width = window.innerWidth; // 窗口宽度\n      const height = window.innerHeight; // 窗口高度\n\n      /** 透视投影相机对象 */\n      camera = new THREE.PerspectiveCamera(60, width / height, 1, 700);\n      camera.position.set(600, 900, 600); // 树上面观察\n      camera.lookAt(scene.position); // 设置相机方向(指向的场景对象)\n      // 创建渲染器对象\n      //   const container = document.getElementById(\"scene\");\n      renderer = new THREE.WebGLRenderer({\n        canvas: map.getCanvas(),\n        context: gl,\n        antialias: true,\n      });\n      //   container.appendChild(renderer.domElement); // body元素中插入canvas对象\n\n      //创建点光源和环境光源\n      const point = new THREE.PointLight(0xffffff);\n      point.position.set(600, 900, 600); // 点光源位置\n      scene.add(point); // 点光源添加到场景中\n      // 环境光\n      const ambient = new THREE.AmbientLight(0x404040, 1);\n      scene.add(ambient);\n      renderer.autoClear = false;\n      //   pickingScene = new THREE.Scene(); //离屏渲染\n      //   pickingTexture = new THREE.WebGLRenderTarget(1, 1); //离屏渲染\n    },\n    addGLTF() {\n      const loader = new GLTFLoader();\n      loader.load(\"shanghai.gltf\", (gltf) => {\n        gltf.scene.traverse((child) => {\n          // 设置线框材质\n          if (child.isMesh) {\n            //这个判断模型是楼房还是其他  加载不同的材质\n            if ([\"CITY_UNTRIANGULATED\"].includes(child.name)) {\n              // 拿到模型线框的Geometry\n              this.setCityLineMaterial(child);\n              this.setCityMaterial(child);\n            } else if ([\"ROADS\"].includes(child.name)) {\n              //道路\n              const material = new THREE.MeshBasicMaterial({\n                color: \"rgb(41,46,76)\",\n              });\n              const mesh = new THREE.Mesh(child.geometry, material);\n              mesh.rotateX(-Math.PI / 2);\n              mesh.position.set(\n                child.position.x,\n                child.position.y + 0,\n                child.position.z\n              );\n              //   scene.add(mesh);\n            } else {\n              //地面\n              const material = new THREE.MeshBasicMaterial({\n                color: \"#040912\",\n              });\n              const mesh = new THREE.Mesh(child.geometry, material);\n              //   scene.add(mesh);\n              mesh.rotateX(-Math.PI / 2);\n              mesh.position.set(\n                child.position.x,\n                child.position.y + 0,\n                child.position.z\n              );\n            }\n          }\n          // 设置线框材质\n        });\n      });\n    },\n    threeRender(gl, matrix) {\n      const modelOrigin = [121.47, 31.23];\n      const modelAltitude = 770;\n      const modelRotate = [Math.PI / 4, 0, 0];\n      const modelAsMercatorCoordinate = mapboxgl.MercatorCoordinate.fromLngLat(\n        modelOrigin,\n        modelAltitude\n      );\n      const modelTransform = {\n        translateX: modelAsMercatorCoordinate.x,\n        translateY: modelAsMercatorCoordinate.y,\n        translateZ: modelAsMercatorCoordinate.z,\n        rotateX: modelRotate[0],\n        rotateY: modelRotate[1],\n        rotateZ: modelRotate[2],\n        scale: modelAsMercatorCoordinate.meterInMercatorCoordinateUnits(),\n      };\n      const rotationX = new THREE.Matrix4().makeRotationAxis(\n        new THREE.Vector3(1, 0, 0),\n        modelTransform.rotateX\n      );\n      const rotationY = new THREE.Matrix4().makeRotationAxis(\n        new THREE.Vector3(0, 1, 0),\n        modelTransform.rotateY\n      );\n      const rotationZ = new THREE.Matrix4().makeRotationAxis(\n        new THREE.Vector3(0, 0, 1),\n        modelTransform.rotateZ\n      );\n\n      const m = new THREE.Matrix4().fromArray(matrix);\n      const l = new THREE.Matrix4()\n        .makeTranslation(\n          modelTransform.translateX,\n          modelTransform.translateY,\n          modelTransform.translateZ\n        )\n        .scale(\n          new THREE.Vector3(\n            modelTransform.scale,\n            -modelTransform.scale,\n            modelTransform.scale\n          )\n        )\n        .multiply(rotationX)\n        .multiply(rotationY)\n        .multiply(rotationZ);\n\n      camera.projectionMatrix = m.multiply(l);\n      this.cityanimate();\n      renderer.resetState();\n      renderer.render(scene, camera);\n      map.triggerRepaint();\n    },\n    setCityMaterial(object) {\n      const shader = new THREE.ShaderMaterial({\n        uniforms: {\n          height: this.height,\n          uFlowColor: {\n            value: new THREE.Color(\"#5588aa\"),\n          },\n          uCityColor: {\n            value: new THREE.Color(\"#1B3045\"),\n          },\n        },\n        vertexShader: `\n                varying vec3 vPosition;\n                void main()\n                {\n                  vPosition = position;\n                  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n                }`,\n        fragmentShader: `\nfloat distanceTo(vec2 src,vec2 dst)\n{\n    float dx=src.x-dst.x;\n    float dy=src.y-dst.y;\n    float dv=dx*dx+dy*dy;\n    return sqrt(dv);\n}\nvarying vec3 vPosition;\nuniform float height;\nuniform float uStartTime;\nuniform vec3 uSize;\nuniform vec3 uFlowColor;\nuniform vec3 uCityColor;\nvoid main()\n{\n    //模型的基础颜色\n    vec3 distColor=uCityColor;\n    // 流动范围当前点z的高度加上流动线的高度\n    float topY=vPosition.z+10.;\n    if(height>vPosition.z&&height<topY){\n        // 颜色渐变\n            float dIndex = sin((height - vPosition.z) / 10.0 * 3.14);\n            distColor = mix(uFlowColor, distColor, 1.0-dIndex);\n\n    }\n    //定位当前点位位置\n    vec2 position2D=vec2(vPosition.x,vPosition.y);\n    //求点到原点的距离\n    float Len=distanceTo(position2D,vec2(0,0));\n      if(Len>height*30.0&&Len<(height*30.0+130.0)){\n        // 颜色渐变\n        float dIndex = sin((Len - height*30.0) / 130.0 * 3.14);\n        distColor= mix(uFlowColor, distColor, 1.0-dIndex);\n    }\n    gl_FragColor=vec4(distColor,1.0);\n}`,\n        transparent: true,\n      });\n\n      const city = new THREE.Mesh(object.geometry, shader);\n      city.position.set(\n        object.position.x,\n        object.position.y + 0,\n        object.position.z\n      );\n      scene.add(city);\n      // pickingScene.add(city);\n      city.rotateX(-Math.PI / 2);\n    },\n    setCityLineMaterial(object) {\n      const edges = new THREE.EdgesGeometry(object.geometry, 1);\n      //设置模型的材质\n      const lineMaterial = new THREE.LineBasicMaterial({\n        // 线的颜色\n        color: \"rgba(38,133,254)\",\n      });\n      //把数据组合起来\n      const lineS = new THREE.LineSegments(edges, lineMaterial);\n      //设置数据的位置\n      lineS.position.set(\n        object.position.x,\n        object.position.y + 0,\n        object.position.z\n      );\n      //添加到场景\n      scene.add(lineS);\n\n      lineS.rotateX(-Math.PI / 2);\n    },\n    cityanimate() {\n      this.height.value += 0.2;\n      if (this.height.value > 100) {\n        this.height.value = 0.0;\n      }\n    },\n    creatWall() {\n      const wallData = {\n        position: {\n          x: -150,\n          y: 15,\n          z: 100,\n        },\n        speed: 0.5,\n        color: \"#efad35\",\n        opacity: 1.0,\n        radius: 420,\n        height: 120,\n        renderOrder: 5,\n      };\n\n      let wallMesh = new Wall(wallData);\n      wallMesh.mesh.material.uniforms.time = this.height;\n      scene.add(wallMesh.mesh);\n    },\n    creatRing() {\n      this.RunRing1 = new RunRing({\n        img: \"clice.png\",\n        scene: scene,\n        speed: 1,\n        radius: 400,\n        position: [\n          [400, 20, 400],\n          [100, 20, 1200],\n        ],\n      });\n    },\n    creatRunLine() {\n      this.runline1 = new RunLine({\n        img: \"z1.png\",\n        camera: camera,\n        height: 140,\n        v0: new THREE.Vector3(60, 18, -279),\n        v1: new THREE.Vector3(-17.5, 111.5, -23),\n        el: document.getElementById(\"map\"),\n        scene: scene,\n        speed: 1,\n        lineWidth: 40,\n        type: \"run\",\n      });\n      this.runline2 = new RunLine({\n        img: \"z_112.png\",\n        camera: camera,\n        height: 140,\n        v0: new THREE.Vector3(-113, 44, 666),\n        v1: new THREE.Vector3(-17.5, 111.5, -23),\n        el: document.getElementById(\"map\"),\n        scene: scene,\n        speed: 1,\n        lineWidth: 40,\n        type: \"run\",\n      });\n      this.runline3 = new RunLine({\n        img: \"z_11.png\",\n        camera: camera,\n        height: 140,\n        v0: new THREE.Vector3(-418, 113, -12),\n        v1: new THREE.Vector3(-17.5, 111.5, -23),\n        el: document.getElementById(\"map\"),\n        scene: scene,\n        speed: 1,\n        lineWidth: 40,\n        type: \"run\",\n      });\n      this.runline5 = new RunLine({\n        img: \"n.png\",\n        camera: camera,\n        height: 140,\n        v0: new THREE.Vector3(614, 18, 130),\n        v1: new THREE.Vector3(-17.5, 111.5, -23),\n        el: document.getElementById(\"map\"),\n        scene: scene,\n        speed: 1,\n        lineWidth: 40,\n        type: \"run\",\n      });\n    },\n    onDocumentMouseDown(event) {\n      this.gpuClick();\n      this.raycastClick(event);\n    },\n    raycastClick(event) {\n      event.preventDefault();\n      const vector = new THREE.Vector3(); // 三维坐标对象\n      vector.set(\n        (event.clientX / window.innerWidth) * 2 - 1,\n        -(event.clientY / window.innerHeight) * 2 + 1,\n        0.5\n      );\n      vector.unproject(camera);\n      const raycaster = new THREE.Raycaster(\n        camera.position,\n        vector.sub(camera.position).normalize()\n      );\n      const intersects = raycaster.intersectObjects(scene.children);\n      if (intersects.length > 0) {\n        const selected = intersects[0]; // 取第一个物体\n        console.log(`x坐标:${selected.point.x}`);\n        console.log(`y坐标:${selected.point.y}`);\n        console.log(`z坐标:${selected.point.z}`);\n      }\n    },\n    gpuClick() {\n      //   renderer.setRenderTarget(pickingTexture);\n      //   renderer.render(pickingScene, camera);\n    },\n  },\n  data() {\n    return {\n      height: {\n        value: 0,\n      },\n    };\n  },\n};\n</script>\n\n<style>\n#map {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n   height: 100%;\n   overflow-y:hidden;\n      overflow-x:hidden;\n}\n.mapboxgl-ctrl {\n    display: none !important;\n}\n</style>"],"sourceRoot":"src/components"}]}